<% days = (date_from..date_to).to_a %>
<div class="table-responsive">
  <table class="table table-sm align-middle mb-0" style="font-size:12px;">
    <thead class="table-light">
      <tr>
        <th style="width:140px;">Дата</th>
        <th style="width:180px;" class="text-end">Обед (мин)</th>
        <th class="text-muted small">—</th>
      </tr>
    </thead>
    <tbody>
      <% days.each do |day| %>
        <tr>
          <td class="nowrap"><%= l(day) %></td>
          <td>
            <%= form_with url: user_lunch_breaks_path(user, on_date: day,
                              date_from: date_from, date_to: date_to, user_id: user.id),
                          method: :post, format: :turbo_stream, data: { turbo: true, controller: "lunch", action: "turbo:submit-end->lunch#afterSave" },
                          class: "d-flex justify-content-end gap-2" do %>
              <%= number_field_tag "lunch_break[minutes]", lunch_minutes_for(user, day),
                    min: 0, step: 5, class: "form-control form-control-sm text-end", style: "max-width: 90px" %>
              <button class="btn btn-outline-secondary btn-sm" type="submit">OK</button>
            <% end %>
          </td>
          <td class="text-muted small"></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
