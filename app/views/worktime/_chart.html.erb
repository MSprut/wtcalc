<div id="worktime_chart" class="card mb-3">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <div class="fw-semibold">Часы по дням</div>
      <div class="text-muted small"><%= l(date_from) %> — <%= l(date_to) %></div>
    </div>

    <% points = Array(series).map { |d| { x: d[:date], y: d[:hours].to_f } } %>

    <% if points.present? %>
      <div class="chart-box">
        <canvas height="140"
                data-controller="chart"
                data-series="<%= points.to_json %>"></canvas>
      </div>
    <% else %>
      <div class="text-muted small">Нет данных за выбранный период</div>
    <% end %>
  </div>
</div>